Last month as Russia invaded Ukraine, President Vladimir Putin was hosting Pakistan Prime Minister Imran Khan. Several Western countries criticised Khan's "working" visit. (https://www.voanews.com/a/pakistan-s-prime-minister-meets-putin-as-russia-attacks-ukraine-/6457960.html) But he went ahead saying that it was part of Pakistan's well thought out decision and it signalled a "shift in the country's foreign policy towards geoeconomics." (https://www.dawn.com/news/1677008/right-decision-to-go-ahead-with-russia-trip-says-fm-qureshi)

In fact, no less than Pakistan Foreign Minister Shah Mahmood Qureshi admitted that senior officials from the United States advised the government not to go ahead with the visit. (https://asiatimes.com/2022/03/pakistan-walks-a-tightrope-between-russia-and-the-west/)

Later as the world stood with Ukraine against Russia at the United Nations, Pakistan and its arch-rival India decided to abstain from voting. India could get away as it has a reputation of not being with any "camp", Pakistan has been seen as an ally of the U.S., as it has been dependent for aid, exports and even its domestic politics. 

But it is now trying to do a tightrope walk. But can it afford to do it? 

Although Pakistan-Russia ties have been on an upswing for the last few years after it started giving it some weapons risking India's ire, Pakistan is still predominantly dependent on the U.S. for most of its defense needs.

The U.S. and the European Union remain its largest export destinations even on the economic front. It is also dependent on U.S. support for getting monetary help from the International Monetary Fund (IMF). And there is the sword of being blacklisted by the Financial Action Task Force (FATF), as Pakistan is placed in the grey list. (https://www.orfonline.org/expert-speak/the-pakistan-quagmire/)

Khan has said that Russia and Pakistan agreed on a gas pipeline and the import of wheat. With the world imposing sanctions against Russia, this may not come to fruition, say experts. How will it deal with the anger of the U.S. will determine whether it can walk the tightrope or not.

Read more:

Ukraine crisis: Why Imran Khan's Russia trip will further isolate Pakistan:
https://www.dw.com/en/ukraine-crisis-why-imran-khans-russia-trip-will-further-isolate-pakistan/a-60916130

Imran Khan Meets Putin At The 'Worst Possible Time'; Why Is Pakistan So Important For Russia?:
https://eurasiantimes.com/khan-meets-putin-at-the-worst-time-pakistan-russia/